{"ast":null,"code":"import { Router } from '@angular/router';\nimport { TimeService } from '../time.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../time.service\";\nexport let AlltimesheetsComponent = /*#__PURE__*/(() => {\n  class AlltimesheetsComponent {\n    constructor(router, timeService) {\n      this.router = router;\n      this.timeService = timeService;\n      this.myUserName = localStorage.getItem(\"userName\");\n      this.allTimesheets = JSON.parse(localStorage.getItem('registrations'));\n      this.result = '';\n    }\n\n    ngOnInit() {\n      let notice = document.getElementById('notice');\n      let timesheets = document.getElementById('timeSheets');\n      let tableContainer = document.getElementById('tableContainer');\n      notice.style.visibility = 'hidden';\n      timesheets.style.visibility = 'hidden';\n\n      if (this.allTimesheets != null && this.allTimesheets.length > 0) {\n        tableContainer.style.visibility = 'visible';\n        timesheets.style.visibility = 'visible';\n        timesheets.style.height = 'auto';\n        this.presentList();\n        sessionStorage.setItem('conditions', ''); //document.getElementById('resultContainer').style.overflowY = 'scroll';\n\n        /*let hc = document.getElementById('resultContainer').style.height;\r\n        if (parseInt(hc.substring(0, hc.length - 2)) >= 200) {\r\n          document.getElementById('resultContainer').style.overflowY = 'scroll';\r\n        }*/\n      } else {\n        notice.style.visibility = 'visible';\n        document.getElementById('notice').style.position = 'relative';\n        document.getElementById('notice').style.top = '-6em';\n      }\n\n      this.listenerEvents();\n    }\n\n    listenerEvents() {\n      let all = this.allTimesheets;\n\n      if (all != null || all.length > 0) {\n        for (let i = 0; i < all.length; i++) {\n          let elem = document.getElementById('delete' + i);\n\n          if (elem) {\n            elem.addEventListener('mouseover', this.hover.bind(this));\n            elem.addEventListener('mouseout', this.removeHover.bind(this));\n          }\n        }\n      }\n    }\n\n    presentList() {\n      /*for (let i = 0; i < this.allTimesheets.length; i++) {\r\n        this.result += '<div class=\"p-1\" style=\"border-bottom: 1px solid #ddd; border-radius: 0\">' + this.allTimesheets[i]['projectName'] + '</div><div class=\"p-1\" style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0\">' + this.allTimesheets[i]['comment']\r\n          + '</div><div class=\"p-1\" style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0\">' + this.allTimesheets[i]['hours'] + '</div><div class=\"p-1\" style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0\">' + this.allTimesheets[i]['registrationTime'].toString().substring(0, 10) + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-right: 1px solid #ddd outset; border-radius: 0\"><a href=\"delete/' + this.allTimesheets[i]['registrationId'] + '\"' + '>Delete</a></div>';\r\n      }\r\n      for (let i = 0; i < this.allTimesheets.length; i++) {\r\n        this.result += '<div style=\"border-bottom: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.allTimesheets[i][\"projectName\"] + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.allTimesheets[i][\"comment\"]\r\n          + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.allTimesheets[i][\"hours\"] + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + (new Date(this.allTimesheets[i][\"registrationTime\"])).getFullYear() + '-' + (new Date(this.allTimesheets[i][\"registrationTime\"])).getMonth() + '-' + (new Date(this.allTimesheets[i][\"registrationTime\"])).getDate() + '</div><div style=\"padding-top: 5%; padding-bottom: 5%; border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-right: 1px solid #ddd outset; border-radius: 0; padding-left: 2em\"><a type=\"button\" class=\"btn border-3 text-white\" style=\"width: 4.5vw; height: 3.5vh; background-color: #b300b3; vertical-align: central; border-radius: 25px; padding-top: 2%; padding-bottom: 5%; font-size: 0.9em; font-weight: 600\" href=\"/delete/' + this.allTimesheets[i][\"registrationId\"] + '\">Delete</a></div>';\r\n      }*/\n      for (let i = 0; i < this.allTimesheets.length; i++) {\n        this.result += '<div style=\"border-bottom: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.allTimesheets[i][\"projectName\"] + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.allTimesheets[i][\"comment\"] + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.allTimesheets[i][\"hours\"] + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.allTimesheets[i][\"registrationTime\"] + '</div><div style=\"padding-top: 5%; padding-bottom: 5%; border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-right: 1px solid #ddd outset; border-radius: 0; padding-left: 2em\"><a type=\"button\" class=\"btn border-3 text-white\" style=\"width: auto; height: auto; vertical-align: central; padding: 0.3em 0.8em 0.3em 0.8em; background-color: #b300b3; border-radius: 25px; font-size: 0.9em; font-weight: 600\" id = \"delete' + i + '\" href=\"/delete/' + this.allTimesheets[i][\"registrationId\"] + '\">Delete</a></div>';\n      }\n\n      document.getElementById('resultContainer').innerHTML = this.result;\n    }\n    /*@HostListener('window:click', ['$event'])\r\n    handleStorage(event) {\r\n      let v = sessionStorage.getItem('allist');\r\n      if (v == 'y') {\r\n        document.getElementById(\"test\").style.height = \"auto\";\r\n        this.presentList();\r\n        localStorage.setItem('allist', '');\r\n      }\r\n    }*/\n\n\n    printvisible() {\n      document.getElementById('printtooltip').style.visibility = 'visible';\n    }\n\n    printinvisible() {\n      document.getElementById('printtooltip').style.visibility = 'hidden';\n    }\n\n    pdfvisible() {\n      document.getElementById('pdftooltip').style.visibility = 'visible';\n    }\n\n    pdfinvisible() {\n      document.getElementById('pdftooltip').style.visibility = 'hidden';\n    }\n\n    hover(event) {\n      event.target.style.backgroundColor = '#ff33ff';\n    }\n\n    removeHover(event) {\n      event.target.style.backgroundColor = '#b300b3';\n    }\n\n  }\n\n  AlltimesheetsComponent.ɵfac = function AlltimesheetsComponent_Factory(t) {\n    return new (t || AlltimesheetsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TimeService));\n  };\n\n  AlltimesheetsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AlltimesheetsComponent,\n    selectors: [[\"app-alltimesheets\"]],\n    decls: 32,\n    vars: 0,\n    consts: [[\"id\", \"tableContainer\", 1, \"table-background\", \"ml-0\", \"mr-o\"], [\"id\", \"timeSheets\"], [1, \"floatRight\", \"d-flex\"], [\"id\", \"icon1div\", 1, \"icondiv\"], [\"id\", \"print\", 1, \"fa\", \"fa-print\", 3, \"mouseover\", \"mouseout\"], [\"id\", \"printtooltip\", 1, \"p-0\", 2, \"position\", \"relative\", \"right\", \"0.5em\", \"top\", \"0%\", \"z-index\", \"1\", \"visibility\", \"hidden\"], [\"id\", \"printtext\"], [\"id\", \"icon2div\", 1, \"icondiv\"], [\"aria-hidden\", \"true\", \"id\", \"pdf\", 1, \"fa\", \"fa-file-pdf-o\", 3, \"mouseover\", \"mouseout\"], [\"id\", \"pdftooltip\", 1, \"p-0\", 2, \"position\", \"relative\", \"right\", \"0.5em\", \"top\", \"0%\", \"z-index\", \"1\", \"visibility\", \"hidden\"], [\"id\", \"pdftext\"], [1, \"text-center\", \"font-weight-bold\", \"title-customer\"], [1, \"tableHeader\", \"tableRow\", \"w-100\"], [\"id\", \"resultContainer\", 1, \"tableRow\", \"rowCustom\"], [\"id\", \"notice\"]],\n    template: function AlltimesheetsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"button\")(5, \"i\", 4);\n        i0.ɵɵlistener(\"mouseover\", function AlltimesheetsComponent_Template_i_mouseover_5_listener() {\n          return ctx.printvisible();\n        })(\"mouseout\", function AlltimesheetsComponent_Template_i_mouseout_5_listener() {\n          return ctx.printinvisible();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 5)(7, \"span\", 6);\n        i0.ɵɵtext(8, \"Print\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"button\")(11, \"i\", 8);\n        i0.ɵɵlistener(\"mouseover\", function AlltimesheetsComponent_Template_i_mouseover_11_listener() {\n          return ctx.pdfvisible();\n        })(\"mouseout\", function AlltimesheetsComponent_Template_i_mouseout_11_listener() {\n          return ctx.pdfinvisible();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 9)(13, \"span\", 10);\n        i0.ɵɵtext(14, \"Pdf\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(15, \"div\", 11)(16, \"label\");\n        i0.ɵɵtext(17, \"TIMESHEETS\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 12)(19, \"div\");\n        i0.ɵɵtext(20, \"Project\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\");\n        i0.ɵɵtext(22, \"Comment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\");\n        i0.ɵɵtext(24, \"Duration (hrs)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\");\n        i0.ɵɵtext(26, \"Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"div\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 14)(30, \"span\");\n        i0.ɵɵtext(31, \"No timesheet is found!\");\n        i0.ɵɵelementEnd()()();\n      }\n    },\n    styles: [\".base[_ngcontent-%COMP%]{height:auto}#labelDiv[_ngcontent-%COMP%]{font-weight:600;text-align:center}.tableRow[_ngcontent-%COMP%]{display:grid;border:1px solid #efefef;border-bottom:none;grid-template-columns:30% 25% 15% 15% 15%;height:auto}.tableHeader[_ngcontent-%COMP%]{background-color:#ddd;height:auto;font-weight:600}.tableHeader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-top:.5em;padding-bottom:.5em;padding-left:.5em}.rowCustom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{word-break:break-all;padding-top:1em;padding-bottom:1em;padding-left:1em;border-bottom:1px solid #ddd;border-left:1px solid #ddd}.btn[_ngcontent-%COMP%]{width:auto;height:auto;padding-top:5%;padding-bottom:5%;background-color:red;border-radius:25px;font-weight:400;font-size:.9em}.projectName-customer[_ngcontent-%COMP%]{height:5vh;vertical-align:central;padding-top:.8em}.title-customer[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:2em}#resultContainer[_ngcontent-%COMP%]{background-color:#f0f8ff;height:auto}#tableContainer[_ngcontent-%COMP%]{visibility:hidden;height:auto;background-color:#f0f8ff;padding-top:.5em}#timesheets[_ngcontent-%COMP%]{height:auto}i[_ngcontent-%COMP%]{margin-right:.5vw}#icon2div[_ngcontent-%COMP%]{margin-left:.2em}#pdf[_ngcontent-%COMP%]{font-size:.9em}.icondiv[_ngcontent-%COMP%]{padding:0;margin-right:0}#icon1div[_ngcontent-%COMP%]{position:relative;left:1.5em}#icon2div[_ngcontent-%COMP%]{position:relative;left:.5em}#pdftext[_ngcontent-%COMP%], #printtext[_ngcontent-%COMP%]{font-size:.7rem;background:#f2f2f2;padding:2px;position:relative;top:.5em}#icondiv[_ngcontent-%COMP%]:after{content:\\\"\\\";position:relative;top:-120%;right:.5em;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:10px solid #f2f2f2}#notice[_ngcontent-%COMP%]{width:100%;text-align:center;visibility:hidden;font-weight:600}span[_ngcontent-%COMP%]{padding:.5em;background-color:#fcf;font-size:1.4em}button[_ngcontent-%COMP%]{background:transparent;padding:0;width:auto;position:relative;color:#000}\"]\n  });\n  return AlltimesheetsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}