{"ast":null,"code":"import { Router } from '@angular/router';\nimport { TimeService } from '../../time.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../time.service\";\nimport * as i3 from \"../search/search.component\";\nexport let ListComponent = /*#__PURE__*/(() => {\n  class ListComponent {\n    //  @ViewChild('elem', { static: true }) elem: ElementRef;\n    constructor(router, timeService) {\n      this.router = router;\n      this.timeService = timeService;\n      this.myUserName = localStorage.getItem(\"userName\");\n      this.allTimesheets = JSON.parse(localStorage.getItem('registrations'));\n      this.registrations = [];\n      this.result = '';\n    }\n\n    ngOnInit() {\n      let conditions = sessionStorage.getItem('conditions');\n      let notice = document.getElementById('notice');\n      let noticeSpans = document.getElementsByTagName('span');\n      notice.setAttribute('style', 'visibility: hidden');\n      noticeSpans[0].setAttribute('style', 'visibility: hidden');\n\n      if (conditions != '' && conditions != null) {\n        this.onGetGroups(conditions);\n      }\n    }\n\n    onGetGroups(conditions) {\n      if (this.allTimesheets == null || this.allTimesheets.length == 0) {\n        let notice = document.getElementById('notice');\n        notice.style.visibility = 'visible';\n        notice.style.position = 'relative';\n        notice.style.top = '3em';\n      }\n\n      let l = this.allTimesheets.length;\n      this.registrations.length = 0;\n      let timesheets = document.getElementById('timeSheets');\n      let notice = document.getElementById('notice');\n      let container = document.getElementById('resultContainer');\n      container.innerHTML = '';\n      timesheets.style.visibility = 'hidden';\n      notice.style.visibility = 'hidden';\n      this.result = '';\n\n      if (conditions == '/null') {\n        for (var a = 0; a < l; a++) {\n          if (this.allTimesheets[a].userId == 2) {\n            this.registrations.push(this.allTimesheets[a]);\n          }\n        }\n      } else {\n        let s = conditions.split('/');\n\n        if ((s[0] == 'undefined' || s[0] == '') && s[1] != 'undefined') {\n          let time = new Date(s[1]);\n\n          for (let i = 0; i < l; i++) {\n            let rtime = this.allTimesheets[i].registrationTime;\n\n            if (new Date(rtime).getFullYear() == time.getFullYear() && new Date(rtime).getMonth() == time.getMonth() && new Date(rtime).getDate() == time.getDate()) {\n              this.registrations.push(this.allTimesheets[i]);\n            }\n          }\n        } else if ((s[0] == 'undefined' || s[0] == '') && s[1] == 'undefined') {\n          for (let i = 0; i < l; i++) {\n            if (this.allTimesheets[i].userId == 2) {\n              this.registrations.push(this.allTimesheets[i]);\n            }\n          }\n        } else if (s[1] == 'undefined' && s[0] != 'undefined' && s[0] != '') {\n          for (let i = 0; i < l; i++) {\n            if (this.allTimesheets[i].projectName == s[0]) {\n              this.registrations.push(this.allTimesheets[i]);\n            }\n          }\n        } else if (s[1] == 'null' && s[0] != 'undefined' && s[0] != '') {\n          for (let i = 0; i < l; i++) {\n            if (this.allTimesheets[i].projectName == s[0]) {\n              this.registrations.push(this.allTimesheets[i]);\n            }\n          }\n        } else if (s[1] != 'undefined' && s[1] != 'null' && s[0] != 'undefined' && s[0] != '') {\n          let time = new Date(s[1]);\n\n          for (let i = 0; i < l; i++) {\n            let rtime = this.allTimesheets[i].registrationTime;\n\n            if (this.allTimesheets[i].projectName == s[0] && new Date(rtime).getFullYear() == time.getFullYear() && new Date(rtime).getMonth() == time.getMonth() && new Date(rtime).getDate() == time.getDate()) {\n              this.registrations.push(this.allTimesheets[i]);\n            }\n          }\n        }\n        /*else if (s[1] == 'undefined' && s[0] == 'undefined') {\r\n          alert(rl);\r\n          for (let i = 0; i < l; i++) {\r\n            if (this.allTimesheets[i].userId == 2) {\r\n              this.registrations.push(this.allTimesheets[i]);\r\n            }\r\n          }\r\n        }*/\n\n      }\n\n      if (this.registrations.length > 0) {\n        timesheets.style.visibility = 'visible';\n        timesheets.style.height = 'auto';\n\n        for (let i = 0; i < this.registrations.length; i++) {\n          this.result += '<div style=\"border-bottom: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.registrations[i][\"projectName\"] + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.registrations[i][\"comment\"] + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.registrations[i][\"hours\"] + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.registrations[i][\"registrationTime\"] + '</div><div style=\"padding-top: 5%; padding-bottom: 5%; border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-right: 1px solid #ddd outset; border-radius: 0; padding-left: 2em\"><a type=\"button\" class=\"btn border-3 text-white\" style=\"width: auto; height: auto; background-color: #b300b3; vertical-align: central; border-radius: 25px; padding: 0.3em 0.8em 0.3em 0.8em; font-size: 0.9em; font-weight: 600\" id=\"delete' + i + '\" href=\"/delete/' + this.registrations[i][\"registrationId\"] + '\">Delete</a></div>';\n        }\n        /*for (let i = 0; i < this.registrations.length; i++) {\r\n          this.result += '<div style=\"border-bottom: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.registrations[i][\"projectName\"] + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.registrations[i][\"comment\"]\r\n            + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.registrations[i][\"hours\"] + '</div><div style=\"border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-radius: 0; padding: 0.5em\">' + this.registrations[i][\"registrationTime\"] + '</div><div style=\"padding-top: 5%; padding-bottom: 5%; border-bottom: 1px solid #ddd; border-left: 1px solid #ddd; border-right: 1px solid #ddd outset; border-radius: 0; padding-left: 2em\"><a type=\"button\" class=\"btn border-3 text-white\" style=\"width: auto; height: auto; background-color: #b300b3; vertical-align: central; border-radius: 25px; padding: 0.3em 0.8em 0.3em 0.8em; font-size: 0.9em; font-weight: 600\" id=\"delete' + this.registrations[i]['registrationId'] + '\">Delete</a></div>';\r\n        }*/\n\n\n        timesheets.scrollIntoView();\n      } else {\n        //document.getElementById('base').style.height = do\n        document.getElementById('search').style.height;\n        notice.style.visibility = 'visible';\n        notice.style.position = 'relative';\n        notice.style.top = '3em';\n      }\n\n      container.innerHTML = this.result;\n      this.listenerEvents();\n      sessionStorage.setItem('conditions', conditions);\n    }\n\n    listenerEvents() {\n      let elems = document.getElementById('timeSheets').querySelectorAll('a');\n\n      for (let i = 0; i < elems.length; i++) {\n        elems[i].addEventListener('mouseover', this.hover.bind(this));\n        elems[i].addEventListener('mouseout', this.removeHover.bind(this)); //elems[i].addEventListener('click', this.delete.bind(this));\n      }\n    }\n\n    printvisible() {\n      document.getElementById('printtooltip').style.visibility = 'visible';\n    }\n\n    printinvisible() {\n      document.getElementById('printtooltip').style.visibility = 'hidden';\n    }\n\n    pdfvisible() {\n      document.getElementById('pdftooltip').style.visibility = 'visible';\n    }\n\n    pdfinvisible() {\n      document.getElementById('pdftooltip').style.visibility = 'hidden';\n    }\n\n    hover(event) {\n      event.target.style.backgroundColor = '#ff33ff';\n    }\n\n    removeHover(event) {\n      event.target.style.backgroundColor = '#b300b3';\n    }\n\n  }\n\n  ListComponent.ɵfac = function ListComponent_Factory(t) {\n    return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TimeService));\n  };\n\n  ListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListComponent,\n    selectors: [[\"app-list\"]],\n    decls: 35,\n    vars: 0,\n    consts: [[\"id\", \"base\", 1, \"main\", \"d-block\"], [\"id\", \"search\", 3, \"getGroups\"], [\"id\", \"notice\", 1, \"text-center\", \"font-weight-bold\"], [\"id\", \"noticeSpan\"], [\"id\", \"timeSheets\", 1, \"table-background\", \"ml-0\", \"mr-o\", \"h-auto\"], [1, \"floatRight\", \"d-flex\"], [\"id\", \"icon1div\", 1, \"icondiv\"], [\"id\", \"print\", 1, \"fa\", \"fa-print\", 3, \"mouseover\", \"mouseout\"], [\"id\", \"printtooltip\", 1, \"p-0\", 2, \"position\", \"relative\", \"right\", \"0.5em\", \"top\", \"0%\", \"z-index\", \"1\", \"visibility\", \"hidden\"], [\"id\", \"printtext\"], [\"id\", \"icon2div\", 1, \"icondiv\"], [\"aria-hidden\", \"true\", \"id\", \"pdf\", 1, \"fa\", \"fa-file-pdf-o\", 3, \"mouseover\", \"mouseout\"], [\"id\", \"pdftooltip\", 1, \"p-0\", 2, \"position\", \"relative\", \"right\", \"0.5em\", \"top\", \"0%\", \"z-index\", \"1\", \"visibility\", \"hidden\"], [\"id\", \"pdftext\"], [1, \"text-center\", \"font-weight-bold\", \"title-customer\"], [1, \"tableHeader\", \"tableRow\", \"w-100\"], [\"id\", \"resultContainer\", 1, \"tableRow\", \"rowCustom\"]],\n    template: function ListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\")(2, \"app-search\", 1);\n        i0.ɵɵlistener(\"getGroups\", function ListComponent_Template_app_search_getGroups_2_listener($event) {\n          return ctx.onGetGroups($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"span\", 3);\n        i0.ɵɵtext(5, \"No timesheet matches your search conditions!\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\")(8, \"div\", 5)(9, \"div\", 6)(10, \"button\")(11, \"i\", 7);\n        i0.ɵɵlistener(\"mouseover\", function ListComponent_Template_i_mouseover_11_listener() {\n          return ctx.printvisible();\n        })(\"mouseout\", function ListComponent_Template_i_mouseout_11_listener() {\n          return ctx.printinvisible();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 8)(13, \"span\", 9);\n        i0.ɵɵtext(14, \"Print\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"div\", 10)(16, \"button\")(17, \"i\", 11);\n        i0.ɵɵlistener(\"mouseover\", function ListComponent_Template_i_mouseover_17_listener() {\n          return ctx.pdfvisible();\n        })(\"mouseout\", function ListComponent_Template_i_mouseout_17_listener() {\n          return ctx.pdfinvisible();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 12)(19, \"span\", 13);\n        i0.ɵɵtext(20, \"Pdf\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(21, \"div\", 14)(22, \"label\");\n        i0.ɵɵtext(23, \"SEARCH RESULT\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"div\", 15)(25, \"div\");\n        i0.ɵɵtext(26, \"Project\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\");\n        i0.ɵɵtext(28, \"Comment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\");\n        i0.ɵɵtext(30, \"Duration (hrs)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\");\n        i0.ɵɵtext(32, \"Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(33, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(34, \"div\", 16);\n        i0.ɵɵelementEnd()()();\n      }\n    },\n    directives: [i3.SearchComponent],\n    styles: [\".main[_ngcontent-%COMP%]{height:auto;background:#f2f2f2}#labelDiv[_ngcontent-%COMP%]{font-weight:600;text-align:center}.tableRow[_ngcontent-%COMP%]{display:grid;border:1px solid #efefef;border-bottom:none;grid-template-columns:30% 25% 15% 15% 15%;height:auto}.tableHeader[_ngcontent-%COMP%]{background-color:#ddd;height:auto;font-weight:600}.tableHeader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-top:.5em;padding-bottom:.5em;padding-left:.5em}.rowCustomer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{word-break:break-all;padding-top:1em;padding-bottom:1em;padding-left:1em;border-bottom:1px solid #ddd;border-left:1px solid #ddd}a[_ngcontent-%COMP%]{padding-left:.1em;padding-right:.1em;height:5vh;vertical-align:central;margin-right:.25vw;background-color:#b300b3;border-radius:25px;font-size:.9em}.table-background[_ngcontent-%COMP%]{background-color:#f2f2f2;padding:1em}.table-background[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#f0f8ff}#timeSheets[_ngcontent-%COMP%]{visibility:hidden;height:0}.projectName-customer[_ngcontent-%COMP%]{height:5vh;vertical-align:central;padding-top:.8em}.title-customer[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:2em}#resultContainer[_ngcontent-%COMP%]{background:aliceblue}#icon2div[_ngcontent-%COMP%]{margin-left:.2em}#pdf[_ngcontent-%COMP%]{font-size:.9em}.icondiv[_ngcontent-%COMP%]{padding:0;margin-right:0}#icon1div[_ngcontent-%COMP%]{position:relative;left:1.2em;top:.5em}#icon2div[_ngcontent-%COMP%]{position:relative;left:.2em;top:.5em}#pdftext[_ngcontent-%COMP%], #printtext[_ngcontent-%COMP%]{font-size:.7rem;background:#f2f2f2;padding:2px;font-weight:400;position:relative;top:.5em}#icondiv[_ngcontent-%COMP%]:after{content:\\\"\\\";position:relative;top:-120%;right:.5em;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:10px solid #f2f2f2}#notice[_ngcontent-%COMP%]{visibility:hidden;text-align:center}span[_ngcontent-%COMP%]{font-weight:600;border:none;font-size:1.4em;background-color:#fcf;border-radius:4px;border:1px solid #ddd;padding:.5em}button[_ngcontent-%COMP%]{background-color:transparent;padding:0;color:#000;width:auto;position:relative}\"]\n  });\n  return ListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}